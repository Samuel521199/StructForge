{"caller":"main.go:main:301","fields":{"hostname":"","pod_name":"","server_id":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T10:52:26.3230575+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4313311+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4318741+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4334358+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4334358+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4339567+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4339567+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4349865+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4349865+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4349865+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4349865+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4349865+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.43551+08:00"}
{"caller":"router_init.go:getGatewayConfig:19","instance_id":"gateway","level":"WARN","message":"Gateway 配置未提供，使用默认配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.43551+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":0},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.43551+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4444342+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4449573+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4449573+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:50:13.4449573+08:00"}
{"caller":"main.go:main:321","fields":{"hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:56:26.9468194+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.9241764+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.9246998+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.9268351+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.9273616+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.9278887+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.9278887+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.929441+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.929441+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.929441+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.929441+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.9299596+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.9299596+08:00"}
{"caller":"router_init.go:getGatewayConfig:19","instance_id":"gateway","level":"WARN","message":"Gateway 配置未提供，使用默认配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.9299596+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":0},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.9299596+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.937748+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.937748+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.937748+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T16:57:07.937748+08:00"}
{"caller":"main.go:main:321","fields":{"hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:06.556425+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6749666+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6754907+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6770626+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6770626+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6775901+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6775901+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6786127+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6786127+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6786127+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6786127+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6786127+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6786127+08:00"}
{"caller":"router_init.go:getGatewayConfig:19","instance_id":"gateway","level":"WARN","message":"Gateway 配置未提供，使用默认配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6791328+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":0},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6791328+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6864399+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6875903+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6875903+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:04:16.6875903+08:00"}
{"caller":"main.go:main:321","fields":{"hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:28:21.1624376+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9407483+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9407483+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9418151+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9424598+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9446225+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9446225+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9462546+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9467769+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9467769+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9467769+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9467769+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9472986+08:00"}
{"caller":"router_init.go:getGatewayConfig:19","instance_id":"gateway","level":"WARN","message":"Gateway 配置未提供，使用默认配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9472986+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":0},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9472986+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9562183+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9567345+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9567345+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:39:35.9567345+08:00"}
{"caller":"main.go:main:321","fields":{"hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:44.4712008+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1260446+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1260446+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1276743+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1282782+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1294913+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1294913+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1305274+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1305274+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1305274+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1305274+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1305274+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1305274+08:00"}
{"caller":"validator.go:validateJWT:222","instance_id":"gateway","level":"WARN","message":"使用默认JWT密钥，生产环境必须修改","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1310512+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"prefix","path":"/api/v1/users","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1310512+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"exact","path":"/api/v1/users/me","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1310512+08:00"}
{"caller":"discovery.go:RegisterService:68","fields":{"instances":1,"service":"user-service"},"instance_id":"gateway","level":"INFO","message":"服务已注册（静态）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1310512+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":2},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1310512+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1379269+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1379269+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1379269+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:46:49.1379269+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.7965977+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.7971291+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.7992285+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.7992285+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.7997363+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.7997363+08:00"}
{"caller":"config_loader.go:loadConfig:42","fields":{"has_gateway":true,"has_redis":false,"has_server":true},"instance_id":"gateway","level":"INFO","message":"配置扫描完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.8007905+08:00"}
{"caller":"config_loader.go:loadConfig:49","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.8007905+08:00"}
{"caller":"config_loader.go:loadConfig:57","fields":{"count":2},"instance_id":"gateway","level":"INFO","message":"路由数量","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.8007905+08:00"}
{"caller":"config_loader.go:loadConfig:66","fields":{"allowed_origins":"http://localhost:5173, http://localhost:3000","origins_count":2},"instance_id":"gateway","level":"INFO","message":"CORS 配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.8007905+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.8007905+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"router_init.go:getGatewayConfig:28","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置已加载","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"router_init.go:getGatewayConfig:37","fields":{"routes_count":2},"instance_id":"gateway","level":"INFO","message":"路由配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"validator.go:validateJWT:222","instance_id":"gateway","level":"WARN","message":"使用默认JWT密钥，生产环境必须修改","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"prefix","path":"/api/v1/users","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"exact","path":"/api/v1/users/me","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"discovery.go:RegisterService:68","fields":{"instances":1,"service":"user-service"},"instance_id":"gateway","level":"INFO","message":"服务已注册（静态）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":2},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.801339+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.808717+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.808717+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.808717+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.808717+08:00"}
{"caller":"main.go:main:317","fields":{"error":"listen tcp :8000: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted."},"instance_id":"gateway","level":"ERROR","message":"gateway 服务运行失败","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:52:14.8103015+08:00"}
{"caller":"main.go:main:321","fields":{"hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:39.4703588+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9207517+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9213509+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9224552+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9229781+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9234951+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9234951+08:00"}
{"caller":"config_loader.go:loadConfig:42","fields":{"has_gateway":true,"has_redis":false,"has_server":true},"instance_id":"gateway","level":"INFO","message":"配置扫描完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9245261+08:00"}
{"caller":"config_loader.go:loadConfig:49","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9245261+08:00"}
{"caller":"config_loader.go:loadConfig:57","fields":{"count":2},"instance_id":"gateway","level":"INFO","message":"路由数量","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9245261+08:00"}
{"caller":"config_loader.go:loadConfig:66","fields":{"allowed_origins":"http://localhost:5173, http://localhost:3000","origins_count":2},"instance_id":"gateway","level":"INFO","message":"CORS 配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9245261+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9245261+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9250463+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9250463+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9250463+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9250463+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9250463+08:00"}
{"caller":"router_init.go:getGatewayConfig:28","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置已加载","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9250463+08:00"}
{"caller":"router_init.go:getGatewayConfig:37","fields":{"routes_count":2},"instance_id":"gateway","level":"INFO","message":"路由配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9250463+08:00"}
{"caller":"validator.go:validateJWT:222","instance_id":"gateway","level":"WARN","message":"使用默认JWT密钥，生产环境必须修改","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9255643+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"prefix","path":"/api/v1/users","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9255643+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"exact","path":"/api/v1/users/me","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9255643+08:00"}
{"caller":"discovery.go:RegisterService:68","fields":{"instances":1,"service":"user-service"},"instance_id":"gateway","level":"INFO","message":"服务已注册（静态）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9255643+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":2},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9255643+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9323149+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9323149+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9323149+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T17:53:50.9323149+08:00"}
{"caller":"main.go:main:321","fields":{"hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:15.3100841+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6459141+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6459141+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6475018+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6475018+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6480194+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6480194+08:00"}
{"caller":"config_loader.go:loadConfig:42","fields":{"has_gateway":true,"has_redis":false,"has_server":true},"instance_id":"gateway","level":"INFO","message":"配置扫描完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.648545+08:00"}
{"caller":"config_loader.go:loadConfig:49","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6490524+08:00"}
{"caller":"config_loader.go:loadConfig:57","fields":{"count":2},"instance_id":"gateway","level":"INFO","message":"路由数量","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6490524+08:00"}
{"caller":"config_loader.go:loadConfig:66","fields":{"allowed_origins":"http://localhost:5173, http://localhost:3000","origins_count":2},"instance_id":"gateway","level":"INFO","message":"CORS 配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6490524+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6490524+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6490524+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6490524+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6495712+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6495712+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6495712+08:00"}
{"caller":"router_init.go:getGatewayConfig:28","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置已加载","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6495712+08:00"}
{"caller":"router_init.go:getGatewayConfig:37","fields":{"routes_count":2},"instance_id":"gateway","level":"INFO","message":"路由配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6495712+08:00"}
{"caller":"validator.go:validateJWT:222","instance_id":"gateway","level":"WARN","message":"使用默认JWT密钥，生产环境必须修改","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6495712+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"prefix","path":"/api/v1/users","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6495712+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"exact","path":"/api/v1/users/me","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6500905+08:00"}
{"caller":"discovery.go:RegisterService:68","fields":{"instances":1,"service":"user-service"},"instance_id":"gateway","level":"INFO","message":"服务已注册（静态）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6500905+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":2},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6500905+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6576488+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6581708+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6581708+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:03:20.6581708+08:00"}
{"caller":"main.go:main:321","fields":{"hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:10:29.3135469+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.7963522+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.7963522+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.7979351+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.7979351+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8002738+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8002738+08:00"}
{"caller":"config_loader.go:loadConfig:42","fields":{"has_gateway":true,"has_redis":false,"has_server":true},"instance_id":"gateway","level":"INFO","message":"配置扫描完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8013482+08:00"}
{"caller":"config_loader.go:loadConfig:49","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8018656+08:00"}
{"caller":"config_loader.go:loadConfig:57","fields":{"count":2},"instance_id":"gateway","level":"INFO","message":"路由数量","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8018656+08:00"}
{"caller":"config_loader.go:loadConfig:66","fields":{"allowed_origins":"http://localhost:5173, http://localhost:3000","origins_count":2},"instance_id":"gateway","level":"INFO","message":"CORS 配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8018656+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8018656+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8018656+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8018656+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8018656+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8023933+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8023933+08:00"}
{"caller":"router_init.go:getGatewayConfig:28","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置已加载","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8023933+08:00"}
{"caller":"router_init.go:getGatewayConfig:37","fields":{"routes_count":2},"instance_id":"gateway","level":"INFO","message":"路由配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8023933+08:00"}
{"caller":"validator.go:validateJWT:222","instance_id":"gateway","level":"WARN","message":"使用默认JWT密钥，生产环境必须修改","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8023933+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"prefix","path":"/api/v1/users","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8023933+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"exact","path":"/api/v1/users/me","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8023933+08:00"}
{"caller":"discovery.go:RegisterService:68","fields":{"instances":1,"service":"user-service"},"instance_id":"gateway","level":"INFO","message":"服务已注册（静态）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8023933+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":2},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8023933+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8096375+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8096375+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8096375+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:11:08.8101946+08:00"}
{"caller":"main.go:main:321","fields":{"hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:20.3757572+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5921269+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5921269+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.596072+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.596072+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5965914+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5965914+08:00"}
{"caller":"config_loader.go:loadConfig:42","fields":{"has_gateway":true,"has_redis":false,"has_server":true},"instance_id":"gateway","level":"INFO","message":"配置扫描完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5981454+08:00"}
{"caller":"config_loader.go:loadConfig:49","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5981454+08:00"}
{"caller":"config_loader.go:loadConfig:57","fields":{"count":2},"instance_id":"gateway","level":"INFO","message":"路由数量","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5981454+08:00"}
{"caller":"config_loader.go:loadConfig:66","fields":{"allowed_origins":"http://localhost:5173, http://localhost:3000","origins_count":2},"instance_id":"gateway","level":"INFO","message":"CORS 配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5986606+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5986606+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5986606+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5986606+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5986606+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5986606+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5991782+08:00"}
{"caller":"router_init.go:getGatewayConfig:28","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置已加载","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5991782+08:00"}
{"caller":"router_init.go:getGatewayConfig:37","fields":{"routes_count":2},"instance_id":"gateway","level":"INFO","message":"路由配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5991782+08:00"}
{"caller":"validator.go:validateJWT:222","instance_id":"gateway","level":"WARN","message":"使用默认JWT密钥，生产环境必须修改","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5991782+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"prefix","path":"/api/v1/users","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5991782+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"exact","path":"/api/v1/users/me","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5991782+08:00"}
{"caller":"discovery.go:RegisterService:68","fields":{"instances":1,"service":"user-service"},"instance_id":"gateway","level":"INFO","message":"服务已注册（静态）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5991782+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":2},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.5997006+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.60706+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.60706+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.60706+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:17:36.60706+08:00"}
{"caller":"main.go:main:321","fields":{"hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:02.4384685+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2141031+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2146234+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2156922+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2156922+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2162124+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2162124+08:00"}
{"caller":"config_loader.go:loadConfig:42","fields":{"has_gateway":true,"has_redis":false,"has_server":true},"instance_id":"gateway","level":"INFO","message":"配置扫描完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2177641+08:00"}
{"caller":"config_loader.go:loadConfig:49","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2177641+08:00"}
{"caller":"config_loader.go:loadConfig:57","fields":{"count":2},"instance_id":"gateway","level":"INFO","message":"路由数量","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2182931+08:00"}
{"caller":"config_loader.go:loadConfig:66","fields":{"allowed_origins":"http://localhost:5173, http://localhost:3000","origins_count":2},"instance_id":"gateway","level":"INFO","message":"CORS 配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2182931+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2182931+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2182931+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2182931+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2182931+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2188154+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2188154+08:00"}
{"caller":"router_init.go:getGatewayConfig:28","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置已加载","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2188154+08:00"}
{"caller":"router_init.go:getGatewayConfig:37","fields":{"routes_count":2},"instance_id":"gateway","level":"INFO","message":"路由配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2188154+08:00"}
{"caller":"validator.go:validateJWT:222","instance_id":"gateway","level":"WARN","message":"使用默认JWT密钥，生产环境必须修改","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2188154+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"prefix","path":"/api/v1/users","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2188154+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"exact","path":"/api/v1/users/me","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2188154+08:00"}
{"caller":"discovery.go:RegisterService:68","fields":{"instances":1,"service":"user-service"},"instance_id":"gateway","level":"INFO","message":"服务已注册（静态）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2193409+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":2},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2193409+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2261849+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2271889+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2271889+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:11.2271889+08:00"}
{"caller":"http.go:1:33","fields":{"method":"POST","origin":"http://localhost:5173","path":"/api/v1/users/register"},"instance_id":"gateway","level":"INFO","message":"HTTP Filter 收到请求","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:38.9639084+08:00"}
{"caller":"http.go:1:107","fields":{"method":"POST","path":"/api/v1/users/register"},"instance_id":"gateway","level":"INFO","message":"Filter 继续处理请求","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:24:38.9644127+08:00"}
{"caller":"main.go:main:321","fields":{"hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:27:01.3248512+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6219912+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6225201+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6236121+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6241397+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6260821+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6260821+08:00"}
{"caller":"config_loader.go:loadConfig:42","fields":{"has_gateway":true,"has_redis":false,"has_server":true},"instance_id":"gateway","level":"INFO","message":"配置扫描完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.626629+08:00"}
{"caller":"config_loader.go:loadConfig:49","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6271462+08:00"}
{"caller":"config_loader.go:loadConfig:57","fields":{"count":2},"instance_id":"gateway","level":"INFO","message":"路由数量","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6271462+08:00"}
{"caller":"config_loader.go:loadConfig:66","fields":{"allowed_origins":"http://localhost:5173, http://localhost:3000","origins_count":2},"instance_id":"gateway","level":"INFO","message":"CORS 配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6271462+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6271462+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6271462+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6271462+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6276613+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6276613+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6276613+08:00"}
{"caller":"router_init.go:getGatewayConfig:28","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置已加载","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6276613+08:00"}
{"caller":"router_init.go:getGatewayConfig:37","fields":{"routes_count":2},"instance_id":"gateway","level":"INFO","message":"路由配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6276613+08:00"}
{"caller":"validator.go:validateJWT:222","instance_id":"gateway","level":"WARN","message":"使用默认JWT密钥，生产环境必须修改","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6276613+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"prefix","path":"/api/v1/users","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6276613+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"exact","path":"/api/v1/users/me","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6276613+08:00"}
{"caller":"discovery.go:RegisterService:68","fields":{"instances":1,"service":"user-service"},"instance_id":"gateway","level":"INFO","message":"服务已注册（静态）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6276613+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":2},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6276613+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.634958+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.634958+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6354694+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:31:19.6354694+08:00"}
{"caller":"http.go:1:33","fields":{"method":"POST","origin":"http://localhost:5173","path":"/api/v1/users/register"},"instance_id":"gateway","level":"INFO","message":"HTTP Filter 收到请求","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:32:22.0425108+08:00"}
{"caller":"http.go:1:107","fields":{"method":"POST","path":"/api/v1/users/register"},"instance_id":"gateway","level":"INFO","message":"Filter 继续处理请求","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:32:22.0425108+08:00"}
{"caller":"cors.go:HandleCORS:109","fields":{"allowed_origins":"http://localhost:5173, http://localhost:3000, https://structforge.com","method":"POST","origin":"http://localhost:5173","path":"/api/v1/users/register"},"instance_id":"gateway","level":"INFO","message":"HandleCORS 被调用","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:32:22.0425108+08:00"}
{"caller":"cors.go:HandleCORS:124","fields":{"allowed":true,"origin":"http://localhost:5173"},"instance_id":"gateway","level":"INFO","message":"源检查结果","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:32:22.043157+08:00"}
{"caller":"cors.go:HandleCORS:149","fields":{"origin":"http://localhost:5173"},"instance_id":"gateway","level":"INFO","message":"设置 Access-Control-Allow-Origin","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:32:22.043157+08:00"}
{"caller":"router.go:Forward:227","fields":{"from":"/api/v1/users/register","instance":"localhost:8001","service":"user-service","to":"http://localhost:8001/api/v1/users/register"},"instance_id":"gateway","level":"INFO","message":"转发请求","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:32:22.043157+08:00"}
{"caller":"logging.go:LogRequest:48","fields":{"duration":"172.1002ms","method":"POST","path":"/api/v1/users/register","query":"","remote_addr":"[::1]:61298","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"},"instance_id":"gateway","level":"INFO","message":"HTTP请求","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:32:22.214611+08:00"}
{"caller":"main.go:main:321","fields":{"hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务结束运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:07.6248737+08:00"}
{"caller":"main.go:main:99","fields":{"environment":"local","hostname":"","pod_name":""},"instance_id":"gateway","level":"INFO","message":"gateway 服务启动中","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9204353+08:00"}
{"caller":"main.go:main:112","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local"},"instance_id":"gateway","level":"INFO","message":"开始加载配置文件","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9204353+08:00"}
{"caller":"main.go:main:140","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"启动配置文件加载成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9233111+08:00"}
{"caller":"main.go:main:145","instance_id":"gateway","level":"INFO","message":"正在创建 Nacos 配置客户端","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9233111+08:00"}
{"caller":"main.go:main:153","instance_id":"gateway","level":"INFO","message":"Nacos 配置客户端创建成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9239072+08:00"}
{"caller":"main.go:main:180","instance_id":"gateway","level":"INFO","message":"正在从本地文件加载配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9239072+08:00"}
{"caller":"config_loader.go:loadConfig:42","fields":{"has_gateway":true,"has_redis":false,"has_server":true},"instance_id":"gateway","level":"INFO","message":"配置扫描完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9249474+08:00"}
{"caller":"config_loader.go:loadConfig:49","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9254571+08:00"}
{"caller":"config_loader.go:loadConfig:57","fields":{"count":2},"instance_id":"gateway","level":"INFO","message":"路由数量","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9254571+08:00"}
{"caller":"config_loader.go:loadConfig:66","fields":{"allowed_origins":"http://localhost:5173, http://localhost:3000","origins_count":2},"instance_id":"gateway","level":"INFO","message":"CORS 配置","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9254571+08:00"}
{"caller":"main.go:main:190","fields":{"config_path":"../../../../configs/local/gateway.yaml"},"instance_id":"gateway","level":"INFO","message":"从本地文件加载配置成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9254571+08:00"}
{"caller":"main.go:main:198","fields":{"config_path":"../../../../configs/local/gateway.yaml","environment":"local","server_id":"gateway-service","server_name":"gateway"},"instance_id":"gateway","level":"INFO","message":"配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9254571+08:00"}
{"caller":"main.go:main:212","instance_id":"gateway","level":"INFO","message":"正在初始化缓存系统","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9254571+08:00"}
{"caller":"main.go:main:248","instance_id":"gateway","level":"INFO","message":"使用内存缓存（Redis配置未提供）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9254571+08:00"}
{"caller":"main.go:main:263","fields":{"adapter":"memory"},"instance_id":"gateway","level":"INFO","message":"缓存系统初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9254571+08:00"}
{"caller":"main.go:main:272","instance_id":"gateway","level":"INFO","message":"正在初始化应用实例","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9254571+08:00"}
{"caller":"router_init.go:getGatewayConfig:28","fields":{"has_cors":true,"has_frontend":true,"has_jwt":true,"has_routes":true,"has_services":true},"instance_id":"gateway","level":"INFO","message":"Gateway 配置已加载","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9254571+08:00"}
{"caller":"router_init.go:getGatewayConfig:37","fields":{"routes_count":2},"instance_id":"gateway","level":"INFO","message":"路由配置详情","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9259768+08:00"}
{"caller":"validator.go:validateJWT:222","instance_id":"gateway","level":"WARN","message":"使用默认JWT密钥，生产环境必须修改","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9259768+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"prefix","path":"/api/v1/users","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9259768+08:00"}
{"caller":"router.go:AddRoute:128","fields":{"match_type":"exact","path":"/api/v1/users/me","service":"user-service"},"instance_id":"gateway","level":"INFO","message":"路由规则已添加","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9259768+08:00"}
{"caller":"discovery.go:RegisterService:68","fields":{"instances":1,"service":"user-service"},"instance_id":"gateway","level":"INFO","message":"服务已注册（静态）","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9259768+08:00"}
{"caller":"loader.go:LoadRouterFromConfig:78","fields":{"routes":2},"instance_id":"gateway","level":"INFO","message":"路由配置加载完成","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9259768+08:00"}
{"caller":"main.go:main:282","instance_id":"gateway","level":"INFO","message":"应用实例初始化成功","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9338776+08:00"}
{"caller":"main.go:main:289","fields":{"env_namespace":"","hostname":"","pod_name":"","server_id":"gateway-service"},"instance_id":"gateway","level":"INFO","message":"gateway 服务开始运行","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9338776+08:00"}
{"caller":"main.go:main:309","instance_id":"gateway","level":"WARN","message":"应用实例已创建，但 wireApp 函数需要完整实现才能运行服务","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9338776+08:00"}
{"caller":"main.go:main:310","instance_id":"gateway","level":"INFO","message":"请运行 wire 命令生成完整的依赖注入代码: cd backend/apps/gateway/cmd/gateway \u0026\u0026 wire","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:17.9338776+08:00"}
{"caller":"http.go:1:33","fields":{"method":"POST","origin":"http://localhost:5173","path":"/api/v1/users/register"},"instance_id":"gateway","level":"INFO","message":"HTTP Filter 收到请求","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:45.6639447+08:00"}
{"caller":"http.go:1:107","fields":{"method":"POST","path":"/api/v1/users/register"},"instance_id":"gateway","level":"INFO","message":"Filter 继续处理请求","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:45.6639447+08:00"}
{"caller":"cors.go:HandleCORS:109","fields":{"allowed_origins":"http://localhost:5173, http://localhost:3000, https://structforge.com","method":"POST","origin":"http://localhost:5173","path":"/api/v1/users/register"},"instance_id":"gateway","level":"INFO","message":"HandleCORS 被调用","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:45.664468+08:00"}
{"caller":"cors.go:HandleCORS:124","fields":{"allowed":true,"origin":"http://localhost:5173"},"instance_id":"gateway","level":"INFO","message":"源检查结果","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:45.664468+08:00"}
{"caller":"cors.go:HandleCORS:149","fields":{"origin":"http://localhost:5173"},"instance_id":"gateway","level":"INFO","message":"设置 Access-Control-Allow-Origin","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:45.664468+08:00"}
{"caller":"router.go:Forward:227","fields":{"from":"/api/v1/users/register","instance":"localhost:8001","service":"user-service","to":"http://localhost:8001/api/v1/users/register"},"instance_id":"gateway","level":"INFO","message":"转发请求","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:45.6650028+08:00"}
{"caller":"logging.go:LogRequest:48","fields":{"duration":"12.7735ms","method":"POST","path":"/api/v1/users/register","query":"","remote_addr":"[::1]:51422","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36 Edg/142.0.0.0"},"instance_id":"gateway","level":"INFO","message":"HTTP请求","service":"gateway","service_id":"gateway","timestamp":"2025-11-20T18:35:45.6772415+08:00"}
